{"styles": [{"id": "truck_attributes_lines", "styleSet": "tilezen_lines", "description": "Truck Attributes Lines", "when": ["all", ["any", ["!=", ["ref", "Truck.Icon.Lookup.FileName"], null], ["ref", "Is.Multiple.Restrictions"]], ["case", ["ref", "Is.Truck.Feature.Mode.Time.Restriction.Active.Only"], ["ref", "Is.Time.Restriction.Active"], true]], "technique": "line", "category": ["case", ["ref", "Is.Time.Restriction.Inactive"], "truck-inactive", "truck"], "minZoomLevel": ["ref", "Truck.MinZoomLevel"], "attr": {"width": ["case", ["ref", "Is.Truck.Class0"], ["world-scale", ["ref", "Truck.Category0.Width"]], ["ref", "Is.Truck.Class1"], ["world-scale", ["ref", "Truck.Category1.Width"]], ["ref", "Is.Truck.Class2"], ["world-scale", ["ref", "Truck.Category2.Width"]], ["ref", "Is.Truck.Class3"], ["world-scale", ["ref", "Truck.Category3.Width"]], ["ref", "Is.Truck.Class4"], ["world-scale", ["ref", "Truck.Category4.Width"]], ["ref", "Is.Truck.Pedestrian"], ["world-scale", ["ref", "Truck.Pedestrian.Width"]], ["world-scale", ["ref", "Truck.Pedestrian.Width"]]], "color": ["case", ["ref", "Is.Time.Restriction.Inactive"], ["ref", "Truck.Inactive.Color"], ["ref", "Truck.Line.Color"]], "smooth-steps": ["make-vector", 4, 0.75]}}, {"id": "truck_attributes_outlines", "styleSet": "tilezen_lines", "description": "Truck Attributes Outlines", "when": ["all", ["any", ["!=", ["ref", "Truck.Icon.Lookup.FileName"], null], ["ref", "Is.Multiple.Restrictions"]], ["case", ["ref", "Is.Truck.Feature.Mode.Time.Restriction.Active.Only"], ["ref", "Is.Time.Restriction.Active"], true]], "technique": "line", "category": ["case", ["ref", "Is.Time.Restriction.Inactive"], "truck-outline-inactive", "truck-outline"], "minZoomLevel": ["ref", "Truck.MinZoomLevel"], "attr": {"width": ["case", ["ref", "Is.Truck.Class0"], ["world-scale", ["+", ["*", 2, ["ref", "Truck.Category0.Outline.Width"]], ["ref", "Truck.Category0.Width"]]], ["ref", "Is.Truck.Class1"], ["world-scale", ["+", ["*", 2, ["ref", "Truck.Category1.Outline.Width"]], ["ref", "Truck.Category1.Width"]]], ["ref", "Is.Truck.Class2"], ["world-scale", ["+", ["*", 2, ["ref", "Truck.Category2.Outline.Width"]], ["ref", "Truck.Category2.Width"]]], ["ref", "Is.Truck.Class3"], ["world-scale", ["+", ["*", 2, ["ref", "Truck.Category3.Outline.Width"]], ["ref", "Truck.Category3.Width"]]], ["ref", "Is.Truck.Class4"], ["world-scale", ["+", ["*", 2, ["ref", "Truck.Category4.Outline.Width"]], ["ref", "Truck.Category4.Width"]]], ["ref", "Is.Truck.Pedestrian"], ["world-scale", ["+", ["*", 2, ["ref", "Truck.Pedestrian.Outline.Width"]], ["ref", "Truck.Pedestrian.Width"]]], ["world-scale", ["+", ["*", 2, ["ref", "Truck.Pedestrian.Outline.Width"]], ["ref", "Truck.Pedestrian.Width"]]]], "color": ["case", ["ref", "Is.Time.Restriction.Inactive"], ["ref", "Truck.Inactive.Outline.Color"], ["ref", "Truck.Line.Outline.Color"]], "smooth-steps": ["make-vector", 4, 0.75]}}, {"id": "truck_attributes_labels", "styleSet": "tilezen_lines", "description": "Truck Attributes Icons", "when": ["all", ["!=", ["ref", "Truck.Icon.Lookup.FileName"], null], ["case", ["ref", "Is.Truck.Feature.Mode.Time.Restriction.Active.Only"], ["ref", "Is.Time.Restriction.Active"], true]], "technique": "icontext", "category": ["case", ["ref", "Is.Time.Restriction.Inactive"], ["concat", "truck-icon-inactive-", ["ref", "Truck.Icon.Key.IconId"]], ["concat", "truck-icon-", ["ref", "Truck.Icon.Key.IconId"]]], "attr": {"iconMinZoomLevel": ["ref", "Truck.MinZoomLevel"], "textMinZoomLevel": ["ref", "Truck.MinZoomLevel"], "anchor-point-density": 10, "margin": ["ref", "Truck.Icon.Margin"], "check-margin": ["ref", "Default.Margin"], "persisting-margin-reducing": ["ref", "Default.PersistingMargin.Reducing"], "far-threshold": 0.9, "far-threshold-range": 0.05, "text-dx": ["ppi-scale", ["+", -0.5, ["ref", "Truck.Icon.Lookup.TextOffsetX"]], ["ref", "ScalePPI.Labels"]], "text-dy": ["*", ["*", ["ref", "Truck.Label.Magnification.Factor"], ["ref", "Truck.Label.SizeFactor"]], ["ppi-scale", ["ref", "Truck.Icon.Lookup.TextOffsetY"], ["ref", "ScalePPI.Labels"]]], "text-opacity": ["case", ["ref", "Truck.Icon.AllowsNoText"], 0, 1], "icon-shadow-enabled": ["ref", "Truck.Icon.Shadow.Enabled"], "icon-shadow-color": ["ref", "Icon.Shadow.Color"], "icon-shadow-blur-radius": ["ref", "Icon.Shadow.BlurRadius"], "icon-shadow-size-increment": ["ref", "Icon.Shadow.SizeIncrement"], "icon-shadow-shear-factor-x": ["ref", "Icon.Shadow.ShearFactorX"], "icon-shadow-shear-factor-y": ["ref", "Icon.Shadow.ShearFactorY"], "icon-shadow-dx": ["ref", "Icon.Shadow.DistanceX"], "icon-shadow-dy": ["-", ["ref", "Icon.Shadow.DistanceY"]], "text-color": ["case", ["ref", "Is.Time.Restriction.Inactive"], ["ref", "Truck.Label.Inactive.Color"], ["ref", "Truck.Label.Color"]], "font": ["ref", "Truck.Label.FontSet"], "font-size": ["*", ["ref", "Truck.Label.Magnification.Factor"], ["ppi-scale", ["*", ["ref", "Truck.Label.Size"], ["ref", "Truck.Label.SizeFactor"]], ["ref", "ScalePPI.Labels"]]], "icon-composition-type": "overlaid", "image": ["concat", ["ref", "Truck.Icon.Lookup.FileName"], ",", ["case", ["ref", "Is.Time.Restriction"], ["ref", "Truck.Icon.TimeAddOn.Lookup.FileName"], ""]], "text-brightness": ["ref", "Truck.Label.Brightness"], "icon-brightness": ["case", ["ref", "Is.Time.Restriction.Inactive"], ["ref", "Truck.Icon.Inactive.Brightness"], ["ref", "Truck.Icon.Brightness"]], "attribute-name": ["ref", "Truck.AttributeName"], "text-content": ["ref", "Truck.Icon.CustomText"], "icon-width": ["ppi-scale", ["*", ["ref", "Truck.Icon.Size"], ["ref", "Truck.Label.SizeFactor"]], ["ref", "ScalePPI.Labels"]]}}, {"id": "truck_attributes_point_labels", "extends": "truck_attributes_labels", "styleSet": "tilezen_points"}]}